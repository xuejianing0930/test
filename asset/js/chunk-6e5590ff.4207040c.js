(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e5590ff"],{2544:function(t,e,i){"use strict";var a=i("8128"),n=i.n(a);n.a},6062:function(t,e,i){"use strict";var a=i("6d61"),n=i("6566");t.exports=a("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n)},"6507d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top",style:{display:t.display}},[a("div",[a("div",{staticClass:"header"},t._l(t.materialList,(function(e,n){return a("div",{key:e.materialType,class:t.active==n?"active":"title"},[a("div",{staticClass:"pdfName"},[t._v(" "+t._s(e.materialTypeDesc||e.materialName)+" "),a("img",{directives:[{name:"show",rawName:"v-show",value:e.read,expression:"item.read"}],staticClass:"affirm",attrs:{src:i("9b2a"),alt:"",srcset:""}})])])})),0),t.showWord?t._e():a("div",{staticClass:"pdf"},[t.pdfs[t.pdfIndex]&&t.pdfs[t.pdfIndex].materialType&&"M01"==t.pdfs[t.pdfIndex].materialType?a("div",{staticClass:"description"},[t._v(" 产品条款:"+t._s(t.pdfs[t.pdfIndex]&&t.pdfs[t.pdfIndex].description)+" ")]):t._e(),a("pdf",{attrs:{src:t.pdfsrc,page:t.currentPage},on:{"num-pages":function(e){t.pageCount=e},loaded:function(e){t.currentPage=1}}}),t.showWord?t._e():a("div",{staticClass:"pdfpage"},[a("span",{on:{click:function(e){t.currentPage>1&&t.currentPage--}}},[t._v("上一页")]),a("span",[t._v("当前第"+t._s(t.currentPage||0)+"页/共"+t._s(t.pageCount||"∞")+"页")]),a("span",{on:{click:function(e){t.currentPage<t.pageCount&&t.currentPage++}}},[t._v("下一页")])])],1),t.showWord?a("div",{staticClass:"pdf"},[a("div",{staticClass:"word-content",staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.wordTip))]),t._l(t.words,(function(e,i){return a("div",{key:e+i,staticClass:"word-content",domProps:{innerHTML:t._s(e.content||e)}})}))],2):t._e()]),a("div",{staticClass:"button"},[a("van-button",{staticClass:"but2",attrs:{type:"info"},on:{click:function(e){return t.next(++t.pdfIndex,t.hasAgree)}}},[t._v("我已逐页阅读并同意（"+t._s(t.read.length+"/"+t.materialList.length)+"）")])],1)])},n=[],r=(i("99af"),i("a623"),i("4de4"),i("7db0"),i("a630"),i("caad"),i("c975"),i("a15b"),i("d81d"),i("13d5"),i("fb6a"),i("a434"),i("d3b7"),i("ac1f"),i("6062"),i("2532"),i("3ca3"),i("5319"),i("1276"),i("ddb0"),i("f3f3")),o=i("fc11"),s=i("858e"),c=i("5880"),d=i("1d2f"),u={name:"",components:{pdf:s["a"]},data:function(){var t;return t={display:"block",productData:JSON.parse(sessionStorage.getItem("productData")),ENCR:null,active:0,SINGE_PAGE_from:JSON.parse(sessionStorage.getItem("SINGE_PAGE_from"))||{userName:"",idCard:"",dateTime:"",phone:"",SMSCode:"",school:"",gradeChoose:"",classChoose:"",email:"",area:""},MORE_PAGE_from:JSON.parse(sessionStorage.getItem("MORE_PAGE_from"))||{userName:"",idCard:"",dateTime:"",userNameInsured:"",idCardInsured:"",dateTimeInsured:"",phone:"",SMSCode:"",school:"",gradeChoose:"",classChoose:"",email:"",area:""},showPdf:!1,pdfsrc:"",pdfIndex:0,pdfs:[],currentPage:0,pageCount:0,showWord:!1,hasAgree:!1,info:{choosedRela:""}},Object(o["a"])(t,"active",0),Object(o["a"])(t,"page",1),Object(o["a"])(t,"clientHeight",document.documentElement.clientHeight-150),Object(o["a"])(t,"pointerEvents",!0),Object(o["a"])(t,"previousPageDisabled",!0),Object(o["a"])(t,"materialList",[]),Object(o["a"])(t,"exonerationNoticeCardRisk",{}),Object(o["a"])(t,"content",[]),Object(o["a"])(t,"read",[0]),t},created:function(){},mounted:function(){var t=this;this.ENCR=JSON.parse(sessionStorage.getItem("Risk")),this.exonerationNoticeCardRisk=JSON.parse(sessionStorage.getItem("exonerationNoticeCardRisk")),1==sessionStorage.getItem("route_radio")?this.info.choosedRela="01":(console.log(this.SINGE_PAGE_from),console.log(this.MORE_PAGE_from),this.info.choosedRela="04"),console.log(JSON.parse(sessionStorage.getItem("pdfList")).length),JSON.parse(sessionStorage.getItem("pdfList")).length>0?(this.materialList=JSON.parse(sessionStorage.getItem("pdfList")),this.materialList.map((function(e,i){(e.materialType&&"M08"==e.materialType||"M11"==e.materialType)&&t.materialList.splice(i,1)})),this.pdfPreview(0)):(this.display="none",this.checkHold(this.params))},methods:Object(r["a"])(Object(r["a"])({},Object(c["mapActions"])(["checkHold","cardCollectionImport","mobileCheck","orderInfoUpdate"])),{},{next:function(){var t=this;if(this.read.length>=this.materialList.length)return this.materialList[this.materialList.length-1].read=!0,void this.checkHold(this.params);this.materialList.map((function(e,i){t.content.push(i)}));var e=[];this.content.find((function(i){t.read.includes(i)||(t.active=i,e.push(i))})),this.previewPdf(this.active=e[0])},previewPdf:function(t,e){if(this.active=t,this.read=Array.from(new Set(this.read)),t>=this.pdfs.length)return this.showPdf=!1,this.hasAgree=!0;this.pdfIndex=t,this.showPdf=!0;var i=this.pdfs[t];if(document.title="产品条款",!e){if(this.read.push(t),0==t)return;this.materialList[t-1].read=!0}if(this.showWord=!1,this.pdfs[t].notPdf)return this.pdfsrc="",this.words=i.content,this.showWord=!0;var a=Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_BASE_URL||"",n=location.origin+location.pathname.replace("/elife-card","")+a,r=i.materialPath;this.pdfsrc=s["a"].createLoadingTask(n+"images"+r)},pdfPreview:function(t){var e=this,i=Object(d["g"])(this.materialList,t);Promise.all(i.map((function(t){return t.materialType?e.$api.common.getProductMaterialDetail(Object(r["a"])({prdId:e.productData.prd_id},t)):t}))).then((function(t){console.log(t,"materialList");var i=t.filter((function(t){return 1==t.status}));console.log(i);var a=i.every((function(t){return 0==t.data.length}));console.log(a),a?(e.display="none",e.checkHold(e.params)):(e.pdfs=t.reduce((function(t,e){var i=[];return i="1"===e.status?e.data.length?e.data:[e.data]:e.notPdf?[e]:[],t.concat(i)}),[]),e.previewPdf(0,1),e.$loading.hide())}))},previousPage:function(){this.page--,this.page<=1?(this.previousPageDisabled=!0,this.page=1):this.previousPageDisabled=!1,this.active=this.page-1},checkstand:function(){var t=this,e=this.$toast.loading({duration:0,forbidClick:!0,message:"即将进入收银台"}),i=3,a=setInterval((function(){i--,i?e.message=" ".concat(i," 秒后完成支付"):(clearInterval(a),t.$toast.clear()),0==i&&(t.$toast.success("支付成功"),t.$router.push({path:"/cardResults"}))}),1e3)}}),watch:{page:function(t,e){console.log(t,e),t>1&&(this.previousPageDisabled=!1)}},computed:Object(r["a"])({wordTip:function(){var t=this.pdfs[this.pdfIndex],e=this.ENCR,i=this.productData.plans;if(console.log(e,"enrc"),t&&t.notPdf){var a=i.map((function(t){return t.planCode.slice(0,-2)})),n=i.map((function(t){return e.find((function(e){return e.risk===t.planCode.slice(0,-2)})).riskName})),r=e.filter((function(t){return a.includes(t.risk)&&t.isHI})).sort((function(t,e){return a.indexOf(t.risk)-a.indexOf(e.risk)})).map((function(t){return t.riskName}));if("exoneration"===t.type)return"本产品计划由《".concat(n.join("》、《"),"》组成，").concat(t.materialName,"如下：");console.log("HI",r);var o=r.length>0?"。其中《".concat(r.join("》、《"),"》为健康保险产品"):"";return"本产品计划由《".concat(n.join("》、《"),"》组成").concat(o,"，").concat(t.materialName,"如下：")}return""},params:function(){console.log(this.info);var t=this.productData.batchNo||this.batch.batchNo||this.batchNum||"",e="";e=-1!=location.href.indexOf("channel")?location.href.split("=")[1]:this.channelCode;var i=sessionStorage.getItem("channelCode");"0037"===i&&(e=i),console.log(e),t=t.length>3?t:"";var a=this.batch.cardPwd?{plchdCardPwd:this.batch.cardPwd}:{},n=JSON.parse(sessionStorage.getItem("planPage")),o=1==this.productData.takeEffectFlag?"".concat(n.time.slice(0,4))+"-".concat(n.time.slice(4,6))+"-".concat(n.time.slice(6,8)):"".concat(n.time.slice(0,4))+"-".concat(n.time.slice(4,6))+"-".concat(n.time.slice(6,8))+" 24:00:00";return Object(r["a"])(Object(r["a"])({},{prdId:this.productData.prd_id,orderCode:sessionStorage.getItem("SINGE_PAGE_orderfode"),plchdCardNo:JSON.parse(sessionStorage.getItem("insuranceInformation_PAGE")).plchdCardNo||"",insPolcyIntndEfDt:JSON.parse(sessionStorage.getItem("planPage")).time,plchdBrthDt:"01"==this.info.choosedRela?d["b"].getBirthday(this.SINGE_PAGE_from.idCard):d["b"].getBirthday(this.MORE_PAGE_from.idCard),plchdCrdtExpDt:"01"==this.info.choosedRela?Object(d["a"])("长期有效"==this.SINGE_PAGE_from.dateTime?99991231:this.SINGE_PAGE_from.dateTime):Object(d["a"])("长期有效"==this.MORE_PAGE_from.dateTime?99991231:this.MORE_PAGE_from.dateTime),plchdCrdtNo:"01"==this.info.choosedRela?Object(d["a"])(this.SINGE_PAGE_from.idCard):Object(d["a"])(this.MORE_PAGE_from.idCard),plchdCrdtTpCd:"1010",plchdEmailAdr:(this.info.choosedRela,Object(d["a"])(this.MORE_PAGE_from.email)),plchdGndCd:"01"==this.info.choosedRela?d["b"].getSex(this.SINGE_PAGE_from.idCard):d["b"].getSex(this.MORE_PAGE_from.idCard),plchdMoveTelNo:"01"==this.info.choosedRela?Object(d["a"])(this.SINGE_PAGE_from.phone):Object(d["a"])(this.MORE_PAGE_from.phone),plchdNatCd:"156",plchdNm:"01"==this.info.choosedRela?Object(d["a"])(this.SINGE_PAGE_from.userName):Object(d["a"])(this.MORE_PAGE_from.userName),plchdAndRcgnReTpCd:Object(d["e"])(this.info.choosedRela,d["b"].getSex(this.MORE_PAGE_from.idCard||""),d["b"].getSex(this.MORE_PAGE_from.idCardInsured||"")),rcgnBrthDt:"01"==this.info.choosedRela?d["b"].getBirthday(this.SINGE_PAGE_from.idCard):d["b"].getBirthday(this.MORE_PAGE_from.idCardInsured),rcgnCrdtExpDt:"01"==this.info.choosedRela?Object(d["a"])("长期有效"==this.SINGE_PAGE_from.dateTime?99991231:this.SINGE_PAGE_from.dateTime):Object(d["a"])("长期有效"==this.MORE_PAGE_from.dateTimeInsured?99991231:this.MORE_PAGE_from.dateTimeInsured),rcgnCrdtNo:"01"==this.info.choosedRela?Object(d["a"])(this.SINGE_PAGE_from.idCard):Object(d["a"])(this.MORE_PAGE_from.idCardInsured),rcgnCrdtTpCd:"1010",rcgnEmail:(this.info.choosedRela,Object(d["a"])(this.MORE_PAGE_from.email)),rcgnGndCd:"01"==this.info.choosedRela?d["b"].getSex(this.SINGE_PAGE_from.idCard):d["b"].getSex(this.MORE_PAGE_from.idCardInsured),rcgnNatCd:"156",rcgnNm:"01"==this.info.choosedRela?this.SINGE_PAGE_from.userName:this.MORE_PAGE_from.userNameInsured,channelCode:""==e?this.channelCode:e,plchdProvCd:this.productData.plchdProvinceCode,plchdCityCd:this.productData.plchdCityCode,plchdCntyAndDstcCd:this.productData.plchdDistrictCode,rsdntTpCd:this.productData.plchdCityFlag,appNoNum:this.productData.plchdPrtCount,totInsPremAmt:this.productData.initPyFAmt,coPyFAmt:this.productData.coPyFAmt,interfaceCode:this.productData.funcFlag,channel:e,batchNo:t,classId:"01"==this.info.choosedRela?this.SINGE_PAGE_from.classId:this.MORE_PAGE_from.classId,insurear:this.productData.plans[0].insuYear,insurearflag:this.productData.plans[0].insuYearFlag,insValiDate:o}),a)}},Object(c["mapState"])({userCode:function(t){return t.app.userCode},phone:function(t){return t.app.phone},userInfo:function(t){return t.app.policyInfo},hasUserInfo:function(t){return t.app.hasUserInfo},hasSomeUserInfo:function(t){return t.app.hasSomeUserInfo},batch:function(t){return t.app.batch},channelCode:function(t){return t.app.channelCode},minDate:function(t){return t.app.minDate},maxDate:function(t){return t.app.maxDate},batchInfo:function(t){return t.app.batchInfo},importActiveFlag:function(t){return t.app.importActiveFlag},checkPhoneID:function(t){return t.app.checkPhoneID},hasCheckHold:function(t){return t.app.hasCheckHold},batchNum:function(t){return t.app.batchNo},routeQuery:function(t){return t.app.routeQuery}})),productData:function(){return JSON.parse(sessionStorage.getItem("productData"))}},f=u,h=(i("2544"),i("2877")),l=Object(h["a"])(f,a,n,!1,null,"7cab06d7",null);e["default"]=l.exports},6566:function(t,e,i){"use strict";var a=i("9bf2").f,n=i("7c73"),r=i("e2cc"),o=i("0366"),s=i("19aa"),c=i("2266"),d=i("7dd0"),u=i("2626"),f=i("83ab"),h=i("f183").fastKey,l=i("69f3"),p=l.set,m=l.getterFor;t.exports={getConstructor:function(t,e,i,d){var u=t((function(t,a){s(t,u,e),p(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=a&&c(a,t[d],t,i)})),l=m(e),g=function(t,e,i){var a,n,r=l(t),o=v(t,e);return o?o.value=i:(r.last=o={index:n=h(e,!0),key:e,value:i,previous:a=r.last,next:void 0,removed:!1},r.first||(r.first=o),a&&(a.next=o),f?r.size++:t.size++,"F"!==n&&(r.index[n]=o)),t},v=function(t,e){var i,a=l(t),n=h(e);if("F"!==n)return a.index[n];for(i=a.first;i;i=i.next)if(i.key==e)return i};return r(u.prototype,{clear:function(){var t=this,e=l(t),i=e.index,a=e.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete i[a.index],a=a.next;e.first=e.last=void 0,f?e.size=0:t.size=0},delete:function(t){var e=this,i=l(e),a=v(e,t);if(a){var n=a.next,r=a.previous;delete i.index[a.index],a.removed=!0,r&&(r.next=n),n&&(n.previous=r),i.first==a&&(i.first=n),i.last==a&&(i.last=r),f?i.size--:e.size--}return!!a},forEach:function(t){var e,i=l(this),a=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:i.first){a(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!v(this,t)}}),r(u.prototype,i?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),f&&a(u.prototype,"size",{get:function(){return l(this).size}}),u},setStrong:function(t,e,i){var a=e+" Iterator",n=m(e),r=m(a);d(t,e,(function(t,e){p(this,{type:a,target:t,state:n(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),u(e)}}},"6d61":function(t,e,i){"use strict";var a=i("23e7"),n=i("da84"),r=i("94ca"),o=i("6eeb"),s=i("f183"),c=i("2266"),d=i("19aa"),u=i("861d"),f=i("d039"),h=i("1c7e"),l=i("d44e"),p=i("7156");t.exports=function(t,e,i){var m=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),v=m?"set":"add",E=n[t],A=E&&E.prototype,b=E,C={},_=function(t){var e=A[t];o(A,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(r(t,"function"!=typeof E||!(g||A.forEach&&!f((function(){(new E).entries().next()})))))b=i.getConstructor(e,t,m,v),s.REQUIRED=!0;else if(r(t,!0)){var I=new b,P=I[v](g?{}:-0,1)!=I,O=f((function(){I.has(1)})),x=h((function(t){new E(t)})),S=!g&&f((function(){var t=new E,e=5;while(e--)t[v](e,e);return!t.has(-0)}));x||(b=e((function(e,i){d(e,b,t);var a=p(new E,e,b);return void 0!=i&&c(i,a[v],a,m),a})),b.prototype=A,A.constructor=b),(O||S)&&(_("delete"),_("has"),m&&_("get")),(S||P)&&_(v),g&&A.clear&&delete A.clear}return C[t]=b,a({global:!0,forced:b!=E},C),l(b,t),g||i.setStrong(b,t,m),b}},7156:function(t,e,i){var a=i("861d"),n=i("d2bb");t.exports=function(t,e,i){var r,o;return n&&"function"==typeof(r=e.constructor)&&r!==i&&a(o=r.prototype)&&o!==i.prototype&&n(t,o),t}},8128:function(t,e,i){},"9b2a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAA0CAYAAADIZmusAAAAAXNSR0IArs4c6QAAAsxJREFUaEPt2U1oE0EUB/D/21qJiEcFjx7Vi3gXDyJCk4JCEfFgUREVPFQQPwqSKIiC0KpgUSzYbETwAxEpRYRcvXkS1IBeFdRzKya7f5nNRlfdbXYnu9ndkhyTfbPzm/dm5kEEET8jNe4Wmy9EUIgY2tvjxCIEn2lz3rKad14eLTS8A4rO6EWTe0A+7zvGnSyBJiHTawuYfLJfLPW1FkQFpo1pm2ThyxL2vjkuTW2Ig5ljUQw+A7BaJ7NxxNjkzYXxoYmeIGoiJZOjAJ+mhSHQatmyrWdIJjAiM7FAHEyV+yh8JMBwHCUTNMbm9cCFncB8A3j89vfu/xAbxMWMUfgwKYxCXNolWDMM1D8RN163ISQWY4UkifEi3n0lynXgR+tP3mKHuEfzAQEfABgKKpGN64CxrcCrj0Dj+/LF2A3R0z3SbR+MmjxI0AzCKMT4dsFSEyjXifff/EcMg0gUogZfDlNYpeod2LIhGBMWkTjE2TM1HoLN+xAY/675cpgoiL5A1EtGajxs2JwNi1ExndPJb2P7FWEim93vRVEwKl4dsWERfctIB1YyeYzgXfFpVr1lpp6Pgug7xG1nThBULcV/1aAwZ3cAPy04l533nuh2SvattLwTKZkMxHSbcNDvqUDcDuAUhbf8MqODSQ3idgATAKfiwKQKiROTOsTBzPGMGLyuU1KdmExAHEyN54S8povJDKRXTKYgDqbKiyK8HDUzmYO4jWYZZCUKJpMQHUxmIe0ys66IyGSYzGQa0u7NrKuAnO+GyTwkLCYXELcDmBLwdOaaxm6l4vd70VR9mT8mNxnpwIIwuYO0y8yaEchJb9ZyCQEoRdO+7cXkFKJy8TcmxxAXU7VnReRIziEAKjSKm+x7+YeoxFRorAxIL//q6lxoScYMMpLk6uqMPciIzqolGTPISJKrqzP2ICM6q5ZkzCAjSa6uztgrJiO/AAV7Mx7tyT/4AAAAAElFTkSuQmCC"},bb2f:function(t,e,i){var a=i("d039");t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},f183:function(t,e,i){var a=i("d012"),n=i("861d"),r=i("5135"),o=i("9bf2").f,s=i("90e3"),c=i("bb2f"),d=s("meta"),u=0,f=Object.isExtensible||function(){return!0},h=function(t){o(t,d,{value:{objectID:"O"+ ++u,weakData:{}}})},l=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,d)){if(!f(t))return"F";if(!e)return"E";h(t)}return t[d].objectID},p=function(t,e){if(!r(t,d)){if(!f(t))return!0;if(!e)return!1;h(t)}return t[d].weakData},m=function(t){return c&&g.REQUIRED&&f(t)&&!r(t,d)&&h(t),t},g=t.exports={REQUIRED:!1,fastKey:l,getWeakData:p,onFreeze:m};a[d]=!0}}]);
//# sourceMappingURL=chunk-6e5590ff.4207040c.js.map