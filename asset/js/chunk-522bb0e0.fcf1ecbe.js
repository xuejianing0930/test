(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-522bb0e0"],{"1f26":function(t,n,e){},"45c9":function(t,n,e){"use strict";var i=e("1f26"),o=e.n(i);o.a},"4fa5":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"top"},[e("h4",[t._v("投保人/被保人的监护人签名")]),e("vueEsign")],1)},o=[],a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"signHandle"},[e("canvas",{ref:"signHandle",staticClass:"canvas"}),e("div",{staticClass:"btn_container van-hairline--top",style:{height:t.height+"px"}},[e("van-radio-group",{staticClass:"radio_container",on:{change:t.radioHandle},model:{value:t.radio,callback:function(n){t.radio=n},expression:"radio"}},t._l(t.liColors,(function(t){return e("van-radio",{key:t,attrs:{"checked-color":t,name:t}})})),1),e("div",[e("van-button",{attrs:{size:"mini"},on:{touchstart:t.clearHandle}},[t._v("清空")]),e("van-button",{attrs:{type:"info",size:"mini"},on:{touchstart:t.saveImg}},[t._v("确认")])],1)],1)])},s=[],c=document.documentElement,r=c.clientWidth,l=c.clientHeight,d={data:function(){return{radio:"#000",height:50,direction:!1,el:"",ctx:"",background:"#fff",color:"#000",linewidth:3,liColors:["#ee0a24","#000","#1890ff"]}},created:function(){var t=this;this.color=this.radio,window.addEventListener("onorientationchange"in window?"orientationchange":"resize",(function(){180!==window.orientation&&0!==window.orientation||(t.direction=!1,t.draw()),90!==window.orientation&&-90!==window.orientation||(t.direction=!0,t.draw())}),!1)},mounted:function(){this.draw()},methods:{radioHandle:function(t){this.color=t,this.setCanvas()},draw:function(){document.addEventListener("touchmove",(function(t){return t.preventDefault()}),{passive:!1}),this.el=this.$refs.signHandle,this.initCanvas()},initCanvas:function(){var t=this.height,n=this.direction,e=this.el;n?(e.width=l,e.height=r-t):(e.width=r,e.height=l-t),this.ctx=e.getContext("2d"),this.setCanvas(),this.drawStart(),this.drawing(),this.drawEnd()},setCanvas:function(){var t=this.ctx,n=this.height,e=this.direction;console.log(e),t.fillStyle=this.background,e?t.fillRect(0,0,l,r-n):t.fillRect(0,0,r,l-n),t.strokeStyle=this.color,t.lineWidth=this.linewidth,t.lineCap="round"},drawStart:function(){var t=this.el,n=this.ctx;t.addEventListener("touchstart",(function(t){n.beginPath(),n.moveTo(t.changedTouches[0].pageX,t.changedTouches[0].pageY)}),!1)},drawing:function(){var t=this.el,n=this.ctx;t.addEventListener("touchmove",(function(t){n.lineTo(t.changedTouches[0].pageX,t.changedTouches[0].pageY),n.stroke()}),!1)},drawEnd:function(){var t=this.el,n=this.ctx;t.addEventListener("touchend",(function(){return n.closePath()}),!1)},clearHandle:function(){this.initCanvas()},saveImg:function(){var t=this.el.toDataURL();console.log("保存签名成功"+t)}}},h=d,u=(e("c9ca"),e("2877")),f=Object(u["a"])(h,a,s,!1,null,"e6137d1a",null),v=f.exports,g=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"top"},[e("div",{staticClass:"button"},[e("div",{staticClass:"new-div",on:{click:t.handleReset}},[t._v("清空")]),e("div",{staticClass:"new-div",on:{click:t.handleGenerate}},[t._v("图片")]),e("div",{staticClass:"new-div",on:{click:t.gotoInsuranceSynthetic}},[t._v("提交")])]),e("div",{staticClass:"esign"},[e("div",{staticClass:"esign-bord"},[e("vue-esign",{ref:"esign",attrs:{width:t.clientWidth,height:t.clientHeight,isCrop:t.isCrop,lineWidth:t.lineWidth,lineColor:t.lineColor,bgColor:t.bgColor},on:{"update:bgColor":function(n){t.bgColor=n},"update:bg-color":function(n){t.bgColor=n}}})],1)])]),e("div",[e("img",{attrs:{src:t.resultImg,alt:""}})])])},m=[],w=(e("e7e5"),e("d399")),C=e("8bbf"),p=e.n(C);p.a.use(w["a"]);var b={name:"",components:{},data:function(){return{lineWidth:6,lineColor:"#000000",bgColor:"",resultImg:"",isCrop:!1,clientHeight:document.documentElement.clientHeight+100,clientWidth:document.documentElement.clientWidth}},mounted:function(){console.log(document.documentElement.clientWidth),console.log(document.documentElement.clientHeight)},methods:{gotoInsuranceSynthetic:function(){var t=this;this.handleGenerate(),this.$nextTick((function(){t.resultImg?t.$router.push({path:"/insuranceSynthetic"}):w["a"].fail("请签名")}))},handleReset:function(){this.$refs.esign.reset(),this.resultImg=""},handleGenerate:function(){var t=this;this.$refs.esign.generate().then((function(n){t.resultImg=n,console.log(n)})).catch((function(t){w["a"].fail("请签名")}))}}},E=b,_=(e("45c9"),Object(u["a"])(E,g,m,!1,null,"d19cfe38",null)),k=_.exports,x={name:"",components:{signHandle:v,vueEsign:k},data:function(){return{}},created:function(){},mounted:function(){},methods:{},watch:{},computed:{}},H=x,I=(e("a7da"),Object(u["a"])(H,i,o,!1,null,"37de4a1a",null));n["default"]=I.exports},"7bfb":function(t,n,e){},a7da:function(t,n,e){"use strict";var i=e("7bfb"),o=e.n(i);o.a},c9ca:function(t,n,e){"use strict";var i=e("db67"),o=e.n(i);o.a},db67:function(t,n,e){}}]);
//# sourceMappingURL=chunk-522bb0e0.fcf1ecbe.js.map